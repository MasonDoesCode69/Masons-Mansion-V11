<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mason‚Äôs Mansion | V16 Absolute Omega</title>
    <link href="fonts.googleapis.com" rel="stylesheet">
    <style>
        :root {
            --bg: #020204;
            --accent: #ffcc33;
            --glow: rgba(255, 204, 51, 0.3);
            --glass: rgba(8, 8, 12, 0.96);
            --border: rgba(255, 255, 255, 0.07);
            --text: #ffffff;
            --font-main: 'Orbitron', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }
        body, html { width: 100%; height: 100%; overflow: hidden; background: var(--bg); color: var(--text); font-family: var(--font-main); cursor: crosshair; }

        #bg-canvas { position: fixed; inset: 0; z-index: 0; }

        /* --- CHRONOS CLOCK --- */
        #chronos {
            position: fixed; top: 30px; right: 40px; text-align: right; z-index: 1000;
            pointer-events: none; transition: 0.5s;
        }
        #time-digit { font-size: 48px; font-weight: 900; color: var(--accent); letter-spacing: 6px; text-shadow: 0 0 20px var(--glow); }
        #date-digit { font-size: 11px; opacity: 0.5; letter-spacing: 4px; text-transform: uppercase; font-family: var(--font-mono); }

        /* --- AUTHENTICATION --- */
        #auth-overlay {
            position: fixed; inset: 0; z-index: 9999; display: flex; align-items: center; justify-content: center;
            background: #000; transition: 1.5s cubic-bezier(0.8, 0, 0.2, 1);
        }
        .login-card {
            background: var(--glass); padding: 60px; border-radius: 5px; border-left: 5px solid var(--accent);
            width: 450px; box-shadow: 0 0 100px rgba(0,0,0,1); text-align: center;
        }
        .login-card h1 { font-size: 34px; letter-spacing: 15px; margin-bottom: 30px; color: var(--accent); }
        .login-card input {
            width: 100%; background: #080808; border: 1px solid var(--border); padding: 18px; 
            color: #fff; margin-bottom: 15px; text-align: center; font-family: var(--font-mono); font-size: 14px;
        }
        .login-card button {
            width: 100%; padding: 18px; background: var(--accent); color: #000; font-weight: 900;
            border: none; cursor: pointer; transition: 0.3s; letter-spacing: 5px;
        }
        .login-card button:hover { letter-spacing: 10px; background: #fff; box-shadow: 0 0 30px #fff; }

        /* --- SIDEBAR SYSTEM --- */
        #sidebar {
            position: fixed; left: -320px; top: 0; bottom: 0; width: 320px;
            background: var(--glass); border-right: 1px solid var(--border); padding: 40px 25px;
            z-index: 2000; transition: 0.6s cubic-bezier(0.19, 1, 0.22, 1); backdrop-filter: blur(25px);
        }
        #sidebar.open { left: 0; box-shadow: 30px 0 100px rgba(0,0,0,0.8); }
        #sidebar-tab {
            position: absolute; right: -40px; top: 50%; height: 180px; width: 40px;
            background: var(--accent); color: #000; display: flex; align-items: center; justify-content: center;
            cursor: pointer; font-weight: 900; writing-mode: vertical-rl; letter-spacing: 5px; font-size: 12px;
        }

        .label { font-size: 9px; color: var(--accent); letter-spacing: 4px; margin: 25px 0 10px; opacity: 0.6; text-transform: uppercase; }
        .ctrl-btn {
            width: 100%; padding: 12px; margin: 4px 0; background: rgba(255,255,255,0.03); 
            border: 1px solid var(--border); color: #fff; cursor: pointer; text-align: left; 
            font-size: 10px; font-family: var(--font-mono); transition: 0.2s;
        }
        .ctrl-btn:hover { background: rgba(255,255,255,0.08); border-color: var(--accent); padding-left: 20px; }
        .ctrl-btn.active { background: var(--accent); color: #000; font-weight: 900; border-color: #fff; }

        /* --- DESKTOP WINDOWS --- */
        #desktop { position: relative; width: 100vw; height: 100vh; z-index: 10; display: none; }
        .window {
            position: absolute; background: var(--glass); border: 1px solid var(--border);
            width: 950px; height: 600px; display: none; flex-direction: column;
            box-shadow: 0 40px 120px rgba(0,0,0,0.9); z-index: 500; border-radius: 4px;
        }
        .win-head {
            padding: 15px 25px; background: rgba(255,255,255,0.04); display: flex; 
            justify-content: space-between; cursor: move; border-bottom: 1px solid var(--border);
            font-size: 11px; letter-spacing: 3px; font-weight: 900; color: var(--accent);
        }
        .win-body { flex: 1; overflow: hidden; background: #000; position: relative; }

        /* --- DASHBOARD GRIDS --- */
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; padding: 20px; }
        .card {
            background: rgba(255,255,255,0.02); border: 1px solid var(--border); padding: 20px;
            text-align: center; cursor: pointer; transition: 0.3s;
        }
        .card:hover { border-color: var(--accent); transform: translateY(-5px); background: rgba(255,255,255,0.05); }
        .card i { font-size: 24px; display: block; margin-bottom: 10px; }

        /* --- TASKBAR --- */
        #taskbar {
            position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: var(--glass); border: 1px solid var(--border); padding: 12px 35px;
            border-radius: 100px; display: flex; gap: 25px; z-index: 1000; backdrop-filter: blur(15px);
        }
        .t-icon {
            width: 55px; height: 55px; display: flex; align-items: center; justify-content: center;
            font-size: 28px; cursor: pointer; transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 50%; border: 1px solid transparent;
        }
        .t-icon:hover { transform: translateY(-20px) scale(1.2); border-color: var(--accent); box-shadow: 0 10px 30px var(--glow); }

        iframe { width: 100%; height: 100%; border: none; }
        .hidden { display: none !important; }
        .vip-txt { color: #00f2ff; text-shadow: 0 0 10px rgba(0, 242, 255, 0.5); }
        .owner-txt { color: #ff3333; text-shadow: 0 0 10px rgba(255, 51, 51, 0.5); }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div id="chronos">
        <div id="time-digit">00:00:00</div>
        <div id="date-digit">INITIALIZING_CHRONOS</div>
    </div>

    <div id="auth-overlay">
        <div class="login-card">
            <h1>MASON V16</h1>
            <input type="password" id="sys-pass" placeholder="ENTER ACCESS KEY">
            <button onclick="Mansion.init()">LOGIN</button>
            <p style="font-size: 8px; margin-top: 20px; opacity: 0.3; letter-spacing: 2px;">SECURED BY HONEY_ARCHITECTURE_2026</p>
        </div>
    </div>

    <div id="desktop">
        <div id="sidebar">
            <div id="sidebar-tab" onclick="document.getElementById('sidebar').classList.toggle('open')">TERMINAL</div>
            
            <div class="label">Physics Engine</div>
            <button class="ctrl-btn active" id="m-float" onclick="Mansion.toggle('float')">Galactic Drift [ON]</button>
            <button class="ctrl-btn" id="m-rgb" onclick="Mansion.toggle('rgb')">Neural Pulse [OFF]</button>
            <button class="ctrl-btn" id="m-magnet" onclick="Mansion.toggle('magnet')">Gravity Well [OFF]</button>
            
            <div class="label">Geometry Mod</div>
            <button class="ctrl-btn active" id="s-shard" onclick="Mansion.setShape('shard')">Crystal Shard</button>
            <button class="ctrl-btn" id="s-poly" onclick="Mansion.setShape('poly')">Hexa-Polygon</button>
            <button class="ctrl-btn" id="s-star" onclick="Mansion.setShape('star')">Star Particle</button>
            <button class="ctrl-btn" id="s-meme" onclick="Mansion.setShape('meme')">Meme Entity</button>

            <div class="label">Quick Execution</div>
            <button class="ctrl-btn" onclick="Mansion.swarm(100)">Inject 100 Entities</button>
            <button class="ctrl-btn" onclick="Mansion.clear()" style="color: #ff5f56;">Purge All Particles</button>
        </div>

        <!-- Windows -->
        <div id="win-games" class="window">
            <div class="win-head"><span>REPOSITORY // GAME_CENTER</span><span style="cursor:pointer" onclick="Mansion.close('games')">√ó</span></div>
            <div class="win-body" id="game-container"></div>
        </div>

        <div id="win-themes" class="window" style="width: 600px; height: 500px;">
            <div class="win-head"><span>THEME // ENGINE</span><span style="cursor:pointer" onclick="Mansion.close('themes')">√ó</span></div>
            <div class="win-body"><div class="grid" id="theme-grid"></div></div>
        </div>

        <div id="win-owner" class="window" style="width: 800px; height: 550px;">
            <div class="win-head"><span>ROOT // ACCESS</span><span style="cursor:pointer" onclick="Mansion.close('owner')">√ó</span></div>
            <div class="win-body"><div class="grid" id="owner-cmd-grid"></div></div>
        </div>

        <div id="taskbar">
            <div class="t-icon" title="Games" onclick="Mansion.open('games')">‚öîÔ∏è</div>
            <div class="t-icon" title="Themes" onclick="Mansion.open('themes')">üåå</div>
            <div class="t-icon hidden" id="vip-icon" title="VIP Dashboard" onclick="Mansion.open('vip')">üíé</div>
            <div class="t-icon hidden" id="owner-icon" title="Owner Root" onclick="Mansion.open('owner')">üëë</div>
        </div>
    </div>

    <script>
        const Mansion = {
            rank: 'guest', entities: [], canvas: null, ctx: null, mouse: {x: -1000, y: -1000},
            mods: { float: true, rgb: false, magnet: false, shape: 'shard' },
            
            themes: [
                { n: 'Void Gold', a: '#ffcc33', b: '#020204' },
                { n: 'Cyber Neon', a: '#00f2ff', b: '#050a15' },
                { n: 'Blood Moon', a: '#ff1f1f', b: '#0a0000' },
                { n: 'Emerald City', a: '#50c878', b: '#010802' },
                { n: 'Matrix', a: '#00ff41', b: '#000000' },
                { n: 'Royal Purple', a: '#bc13fe', b: '#08000f' },
                { n: 'Solar Flare', a: '#ff4e00', b: '#0a0200' },
                { n: 'Oceanic', a: '#0077be', b: '#00050a' },
                { n: 'Ghost', a: '#ffffff', b: '#0a0a0a' },
                { n: 'Toxic', a: '#adff2f', b: '#050a00' }
            ],

            vipThemes: [
                { n: 'Diamond', a: '#b9f2ff', b: '#0d1218' },
                { n: 'Ruby VIP', a: '#e0115f', b: '#120101' },
                { n: 'Platinum', a: '#e5e4e2', b: '#000000' },
                { n: 'Golden Era', a: '#ffd700', b: '#0a0a00' },
                { n: 'Black Hole', a: '#444444', b: '#000000' },
                { n: 'Pink Nebula', a: '#ff007f', b: '#0a0006' },
                { n: 'Deep Sea', a: '#191970', b: '#000005' },
                { n: 'Frozen', a: '#afeeee', b: '#00080a' },
                { n: 'Copper', a: '#b87333', b: '#050200' },
                { n: 'Obsidian', a: '#1a1a1a', b: '#000000' }
            ],

            games: [
                { n: 'Gladihoppers', u: 'usernamegth.github.io' },
                { n: 'Slope', u: '96f.github.io' },
                { n: 'Minecraft', u: 'classic.minecraft.net' },
                { n: 'Retro Bowl', u: 'game316009.konggames.com' }
            ],

            init() {
                const p = document.getElementById('sys-pass').value;
                if(p === "masononly69") { this.rank = "OWNER"; this.unlockUI(['owner-icon', 'vip-icon']); }
                else if(p === "vip420") { this.rank = "VIP"; this.unlockUI(['vip-icon']); }
                else if(p === "honey") { this.rank = "USER"; }
                else { alert("ACCESS_DENIED"); return; }

                document.getElementById('auth-overlay').style.transform = 'translateY(-100%)';
                setTimeout(() => {
                    document.getElementById('auth-overlay').style.display = 'none';
                    document.getElementById('desktop').style.display = 'block';
                    this.bootEngine();
                }, 1000);
            },

            unlockUI(ids) { ids.forEach(id => document.getElementById(id).classList.remove('hidden')); },

            bootEngine() {
                this.canvas = document.getElementById('bg-canvas');
                this.ctx = this.canvas.getContext('2d');
                window.onresize = () => { this.canvas.width = innerWidth; this.canvas.height = innerHeight; };
                window.onmousemove = (e) => { this.mouse.x = e.clientX; this.mouse.y = e.clientY; };
                window.onresize();
                this.startClock();
                this.loadGrids();
                for(let i=0; i<40; i++) this.spawn();
                this.render();
            },

            startClock() {
                setInterval(() => {
                    const d = new Date();
                    document.getElementById('time-digit').innerText = d.toLocaleTimeString('en-GB', {hour12: false});
                    document.getElementById('date-digit').innerText = d.toLocaleDateString(undefined, {weekday:'long', month:'long', day:'numeric', year:'numeric'});
                }, 1000);
            },

            loadGrids() {
                const tg = document.getElementById('theme-grid');
                this.themes.forEach((t, i) => {
                    tg.innerHTML += `<div class="card" onclick="Mansion.applyTheme(${i}, false)">${t.n}</div>`;
                });
                if(this.rank === 'VIP' || this.rank === 'OWNER') {
                    this.vipThemes.forEach((t, i) => {
                        tg.innerHTML += `<div class="card vip-txt" onclick="Mansion.applyTheme(${i}, true)">${t.n}</div>`;
                    });
                }
                
                const og = document.getElementById('owner-cmd-grid');
                if(this.rank === 'OWNER') {
                    for(let i=1; i<=20; i++) {
                        og.innerHTML += `<div class="card owner-txt" onclick="Mansion.swarm(${i*50})">COMMAND: INJECT_${i*50}</div>`;
                    }
                }
            },

            spawn() {
                this.entities.push({
                    x: Math.random() * innerWidth, y: Math.random() * innerHeight,
                    vx: (Math.random() - 0.5) * 3, vy: (Math.random() - 0.5) * 3,
                    sz: 25 + Math.random() * 35, rot: Math.random() * 360,
                    hue: Math.random() * 360, sides: 3 + Math.floor(Math.random() * 5)
                });
            },

            toggle(m) {
                this.mods[m] = !this.mods[m];
                const b = document.getElementById(`m-${m}`);
                b.classList.toggle('active');
                b.innerText = b.innerText.split('[')[0] + (this.mods[m] ? '[ON]' : '[OFF]');
            },

            setShape(s) {
                this.mods.shape = s;
                document.querySelectorAll('.ctrl-btn').forEach(btn => btn.classList.remove('active'));
                document.getElementById(`s-${s}`).classList.add('active');
            },

            open(id) {
                const win = document.getElementById('win-' + id);
                win.style.display = 'flex';
                win.style.top = '100px'; win.style.left = '200px';
                this.drag(win);
                if(id === 'games') {
                    const gc = document.getElementById('game-container');
                    gc.innerHTML = `<div class="grid"></div>`;
                    this.games.forEach(g => {
                        gc.firstChild.innerHTML += `<div class="card" onclick="Mansion.launchGame('${g.u}')">${g.n}</div>`;
                    });
                }
            },

            launchGame(url) {
                document.getElementById('game-container').innerHTML = `<iframe src="${url}"></iframe>`;
            },

            close(id) { document.getElementById('win-' + id).style.display = 'none'; },

            applyTheme(i, isVip) {
                const t = isVip ? this.vipThemes[i] : this.themes[i];
                document.documentElement.style.setProperty('--accent', t.a);
                document.documentElement.style.setProperty('--bg', t.b);
                document.documentElement.style.setProperty('--glow', t.a + '44');
            },

            swarm(n) { for(let i=0; i<n; i++) this.spawn(); },
            clear() { this.entities = []; },

            drag(el) {
                let p1=0, p2=0, p3=0, p4=0;
                el.querySelector('.win-head').onmousedown = (e) => {
                    p3=e.clientX; p4=e.clientY;
                    document.onmouseup = () => { document.onmouseup = null; document.onmousemove = null; };
                    document.onmousemove = (e) => {
                        p1=p3-e.clientX; p2=p4-e.clientY; p3=e.clientX; p4=e.clientY;
                        el.style.top = (el.offsetTop-p2)+"px"; el.style.left = (el.offsetLeft-p1)+"px";
                    };
                };
            },

            render() {
                this.ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--bg');
                this.ctx.fillRect(0,0,innerWidth,innerHeight);
                const accent = getComputedStyle(document.documentElement).getPropertyValue('--accent');

                this.entities.forEach(e => {
                    if(this.mods.float) { e.x += e.vx; e.y += e.vy; e.rot += 0.5; }
                    if(this.mods.magnet) {
                        const dx = this.mouse.x - e.x, dy = this.mouse.y - e.y;
                        const dist = Math.sqrt(dx*dx + dy*dy);
                        if(dist < 300) { e.x += dx * 0.02; e.y += dy * 0.02; }
                    }

                    if(e.x < 0 || e.x > innerWidth) e.vx *= -1;
                    if(e.y < 0 || e.y > innerHeight) e.vy *= -1;

                    this.ctx.save();
                    this.ctx.translate(e.x, e.y);
                    this.ctx.rotate(e.rot * Math.PI / 180);
                    this.ctx.strokeStyle = this.mods.rgb ? `hsl(${e.hue}, 100%, 50%)` : accent;
                    this.ctx.lineWidth = 1.5;
                    this.ctx.beginPath();

                    if(this.mods.shape === 'shard') {
                        this.ctx.moveTo(0, -e.sz); this.ctx.lineTo(e.sz/3, 0); this.ctx.lineTo(0, e.sz); this.ctx.lineTo(-e.sz/3, 0);
                    } else if(this.mods.shape === 'poly') {
                        for(let i=0; i<6; i++) this.ctx.lineTo(e.sz * Math.cos(i*2*Math.PI/6), e.sz * Math.sin(i*2*Math.PI/6));
                    } else if(this.mods.shape === 'star') {
                        for(let i=0; i<10; i++) {
                            const r = (i%2===0) ? e.sz : e.sz/2;
                            this.ctx.lineTo(r * Math.cos(i*Math.PI/5), r * Math.sin(i*Math.PI/5));
                        }
                    } else if(this.mods.shape === 'meme') {
                        this.ctx.font = `${e.sz}px Arial`;
                        this.ctx.fillText("ü§°", -e.sz/2, e.sz/2);
                    }

                    this.ctx.closePath();
                    this.ctx.stroke();
                    this.ctx.restore();
                    if(this.mods.rgb) e.hue++;
                });
                requestAnimationFrame(() => this.render());
            }
        };
    </script>
</body>
</html>
